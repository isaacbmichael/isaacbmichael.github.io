<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Isaac B. Michael — Data-Driven Strategy & Execution</title>
  <meta name="description" content="Survey methodology, analytics automation, and decision analytics.">
  <meta property="og:title" content="Isaac B. Michael — Data-Driven Strategy & Execution">
  <meta property="og:description" content="Modernizing data systems; reproducible analytics; executive reporting.">
  <meta property="og:url" content="https://isaacbmichael.com/">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">

  <style>
    /* ===== Design Tokens (Aegean Slate) ===== */
    :root{
      /* Brand blues (calm teal-navy) */
      --brand-blue-900:#143C52;  /* dark bar bg */
      --brand-blue-700:#1B4965;  /* primary */
      --accent:var(--brand-blue-700);

      /* Canvas & text */
      --ink:#111827;
      --muted:#5b6470;

      /* Bars (LIGHT baseline) */
      --bar-bg:#ffffff;
      --bar-fg:var(--brand-blue-900);
      --bar-border:#e5e7eb;

      /* Page background (soft light gradient) */
      --page-gradient:linear-gradient(180deg,#F3F7FA 0%, #EDF3F7 40%, #F7FAFC 100%);

      /* Focus ring */
      --ring:rgba(27,73,101,.35);

      /* Misc */
      --surface:#ffffff;
      --radius:14px;
      --w:1360px;
      --wrap-pad:clamp(8px,1.5vw,16px);
      --shadow:0 10px 20px rgba(17,24,39,.08), 0 2px 6px rgba(17,24,39,.04);
      --shadow-hover:0 16px 28px rgba(17,24,39,.12), 0 4px 12px rgba(17,24,39,.06);
      --avatar-size:96px;
    }
    @media (min-width:1600px){ :root{ --w:1440px } }

    /* Bars DARK variant (used at the top; toggled by body.bars-dark) */
    body.bars-dark{
      --bar-bg:var(--brand-blue-900);
      --bar-fg:#ffffff;
      --bar-border:rgba(255,255,255,.16);
    }

    /* ===== Base / Layout ===== */
    *{box-sizing:border-box}
    html,body{height:100%}
    html{background:#fff}
    body{
      margin:0;
      font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      color:var(--ink);
      background:var(--page-gradient);
      min-height:100svh;display:flex;flex-direction:column;
    }
    a{color:var(--accent);text-decoration:none}
    a:hover{text-decoration:underline}
    .wrap{max-width:var(--w);margin:0 auto;padding:0 var(--wrap-pad)}

    /* ===== Sticky Header ===== */
    header.site-header{
      position:sticky; top:0; z-index:1000;
      background:var(--bar-bg); color:var(--bar-fg);
      border-bottom:1px solid var(--bar-border);
      backdrop-filter:saturate(120%) blur(2px);
      transition:background-color .2s ease, color .2s ease, border-color .2s ease;
    }
    .topbar{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:10px 0;perspective:1100px}
    .brand{display:flex;align-items:center;gap:14px}

    /* ===== Brand link (no floating card) ===== */
    .brand-link--wide{
      display:flex;align-items:center;gap:14px;
      color:var(--bar-fg);text-decoration:none;border-radius:0;padding:0;outline:none;
      transform-style:preserve-3d;
    }
    .brand-link--wide:hover{ text-decoration:none }
    .brand-link--wide:focus-visible{ box-shadow:0 0 0 6px var(--ring); border-radius:12px; padding:2px 4px }

    .brand-text{display:flex;flex-direction:column;line-height:1.1}
    .brand-name{
      font-weight:900;letter-spacing:.2px;font-size:clamp(18px,1.8vw,24px);color:var(--bar-fg);
      transition:transform .25s cubic-bezier(.2,.8,.2,1), text-shadow .25s ease;
    }
    .brand-creds{
      color:color-mix(in srgb, var(--bar-fg) 70%, #cfd8e3);
      font-weight:400;letter-spacing:.2px;font-size:clamp(12px,1.2vw,14px);
      transition:transform .25s cubic-bezier(.2,.8,.2,1), text-shadow .25s ease;
    }
    @supports not (color-mix: in srgb, white 50%, black 50%){
      .brand-creds{ color:#c3c9d2 }
    }

    /* Gentle lift on hover (text + badge only) */
    @media (hover:hover) and (pointer:fine){
      .brand-link--wide:hover .brand-name{
        transform: translateY(-2px) rotateX(8deg) translateZ(10px);
        text-shadow:0 10px 22px rgba(0,0,0,.10), 0 2px 6px rgba(0,0,0,.06);
      }
      .brand-link--wide:hover .brand-creds{
        transform:translateY(-1px) rotateX(6deg) translateZ(6px);
        text-shadow:0 8px 18px rgba(0,0,0,.08), 0 2px 5px rgba(0,0,0,.05);
      }
    }
    @media (prefers-reduced-motion:reduce){
      .brand-name,.brand-creds{ transition:none }
    }

    /* Avatar with flip */
    .avatar{width:var(--avatar-size);height:var(--avatar-size);perspective:1100px}
    .avatar-badge{display:block;width:100%;height:100%;border-radius:50%;outline:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer}
    .avatar-inner{position:relative;width:100%;height:100%;transform-style:preserve-3d;will-change:transform;--ry:0deg;transform:rotateY(var(--ry));transition:transform .72s cubic-bezier(.2,.8,.2,1), filter .3s ease}
    .avatar.is-flipped .avatar-inner{--ry:180deg}
    .avatar-face{position:absolute;inset:0;border-radius:50%;overflow:hidden;backface-visibility:hidden}
    .avatar-face.front{border:3px solid rgba(0,0,0,.06);box-shadow:0 4px 10px rgba(0,0,0,.08)}
    body.bars-dark .avatar-face.front{border:3px solid rgba(255,255,255,.75);box-shadow:0 6px 16px rgba(0,0,0,.28)}
    .avatar-face.back{transform:rotateY(180deg);border:none;box-shadow:none;background:transparent}
    .avatar-face img{width:100%;height:100%;object-fit:cover}
    .avatar-face.back img{object-fit:contain;padding:8px;background:transparent}
    @media (hover:hover) and (pointer:fine){
      .brand-link--wide:hover .avatar-inner{ --ry:0deg; transform:rotateY(var(--ry)) rotateX(8deg) translateY(-2px) }
    }
    .brand-link--wide.reflip .avatar-inner{ --ry:180deg; transform:rotateY(var(--ry)) }
    @media (prefers-reduced-motion:reduce){ .avatar-inner{transition:none } }
    @media (max-width:960px){ :root{ --avatar-size:72px } }

    /* Primary nav */
    nav ul{list-style:none;display:flex;gap:18px;margin:0;padding:0}
    nav a{color:var(--bar-fg);font-weight:600;position:relative}
    nav a::after{
      content:"";position:absolute;left:0;right:0;bottom:-6px;height:2px;background:color-mix(in srgb, var(--bar-fg) 25%, transparent);transform:scaleX(0);
      transform-origin:left;transition:transform .22s ease;
    }
    nav a:hover{color:var(--bar-fg);text-decoration:none}
    nav a:hover::after{transform:scaleX(1)}
    nav a:focus-visible{color:var(--bar-fg);text-decoration:none}
    nav a:focus-visible::after{transform:scaleX(1)}

    /* ===== HERO ===== */
    .hero-section{ background:transparent; color:var(--ink); border-bottom:0 }
    .hero{padding:12px 0 10px}
    .hero-grid{display:grid;grid-template-columns:1fr;grid-template-areas:"title" "tagline" "chips";row-gap:6px;align-items:start}
    .h1{margin:0;font-weight:900;letter-spacing:.2px;font-size:clamp(34px,4vw,56px);line-height:1.08;color:var(--ink);grid-area:title}
    .tagline{grid-area:tagline;margin:4px 0 0;color:var(--ink);font-weight:800;letter-spacing:.15px;font-size:clamp(14px,1.4vw,18px);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .chips{grid-area:chips;display:flex;gap:10px;margin-top:4px;white-space:nowrap;overflow-x:auto;-webkit-overflow-scrolling:touch}
    .chip{display:inline-block;flex:0 0 auto;background:rgba(17,24,39,.08);color:var(--ink);padding:5px 12px;border-radius:999px;font-weight:700;font-size:.82rem;border:1px solid rgba(17,24,39,.08)}

    /* Gradient divider between chips and Featured (tinted to brand) */
    .section-divider{
      height:12px; margin:10px 0 2px; border:0;
      background:
        linear-gradient(90deg, rgba(0,0,0,0) 0%,
                              rgba(27,73,101,.22) 10%,
                              rgba(27,73,101,.35) 50%,
                              rgba(27,73,101,.22) 90%,
                              rgba(0,0,0,0) 100%);
      mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
      opacity:.9; border-radius:999px;
    }

    /* ===== Sections ===== */
    main{padding:10px 0 40px;flex:1 0 auto}
    section{padding:24px 0}
    h2{margin:0 0 14px;font-size:clamp(20px,2.6vw,28px)}
    .hero-section .wrap, main.wrap{padding-left:var(--wrap-pad);padding-right:var(--wrap-pad)}

    .tiles{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .tile{position:relative;background:var(--surface);border-radius:var(--radius);padding:18px 20px;box-shadow:var(--shadow);transition:transform .18s ease, box-shadow .18s ease}
    .tile:hover{transform:translateY(-4px);box-shadow:var(--shadow-hover)}
    .tile h3{margin:0 0 8px}
    .tile a.card-link{position:absolute;inset:0;border-radius:var(--radius);text-indent:-9999px;overflow:hidden}

    /* ===== Footer (shares bar variables) ===== */
    footer{
      background:var(--bar-bg); color:var(--bar-fg); padding:18px 0; text-align:center;
      border-top:1px solid var(--bar-border);
      transition:background-color .2s ease, color .2s ease, border-color .2s ease;
    }
    footer .wrap{opacity:.95;display:flex;flex-direction:column;gap:14px;align-items:center}
    .social{display:flex;align-items:center;gap:10px}
    .icon-btn{
      display:inline-flex;align-items:center;justify-content:center;
      width:38px;height:38px;border-radius:999px;
      background:color-mix(in srgb, var(--bar-fg) 12%, transparent);
      border:1px solid color-mix(in srgb, var(--bar-fg) 22%, transparent);
      color:var(--bar-fg);
      transition:transform .18s ease, box-shadow .18s ease, background .18s ease;
    }
    .icon-btn:hover{transform:translateY(-2px);box-shadow:0 8px 18px rgba(0,0,0,.12);background:color-mix(in srgb, var(--bar-fg) 22%, transparent)}
    .icon-btn:focus-visible{outline:none;box-shadow:0 0 0 6px var(--ring)}
    .icon{width:18px;height:18px;fill:currentColor}

    /* ===== Buttons ===== */
    .btn{display:inline-flex;align-items:center;gap:8px;padding:.65rem 1rem;border-radius:999px;font-weight:800;border:1px solid rgba(0,0,0,.04);background:#fff;color:var(--brand-blue-900);box-shadow:var(--shadow);transition:transform .16s ease, box-shadow .16s ease, filter .16s ease;text-decoration:none}
    .btn:hover{transform:translateY(-2px);box-shadow:var(--shadow-hover);text-decoration:none}
    .btn:active{transform:translateY(-1px)}
    .btn:focus-visible{outline:none;box-shadow:0 0 0 6px var(--ring)}
    .btn-outline{background:transparent;color:var(--ink);border:1px solid #e5e7eb}
    .btn-primary{background:var(--brand-blue-700);color:#fff;border-color:transparent}

    /* ===== Contact Modal ===== */
    dialog{width:min(680px,92vw);border:none;border-radius:16px;padding:0;background:var(--surface);box-shadow:var(--shadow-hover)}
    dialog[open]{animation:fadeIn .16s ease}
    dialog::backdrop{background:rgba(0,0,0,.55);backdrop-filter:saturate(120%) blur(2px)}
    @keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}
    .modal-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid #e5e7eb}
    .modal-title{margin:0;font-size:1.1rem;font-weight:800;color:var(--ink)}
    .modal-close{all:unset;cursor:pointer;font-weight:900;line-height:1;padding:6px 8px;border-radius:10px}
    .modal-close:hover{background:#f1f5f9}
    .modal-body{padding:18px 20px;display:grid;gap:18px}
    .contact-actions{display:flex;flex-wrap:wrap;gap:10px}
    .form-grid{display:grid;gap:10px}
    .form-grid label{font-weight:700;color:var(--muted);font-size:.9rem}
    .form-grid input,.form-grid textarea{width:100%;padding:.65rem .75rem;border-radius:10px;border:1px solid #e5e7eb;font:inherit;outline:none;transition:box-shadow .15s ease,border-color .15s ease}
    .form-grid input:focus,.form-grid textarea:focus{border-color:#94a3b8;box-shadow:0 0 0 4px rgba(148,163,184,.25)}
    .divider{height:1px;background:#e5e7eb;margin:4px 0}
    small.muted{color:#6b7280}
    .sr-only{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}

    /* ===== Responsive ===== */
    @media (max-width:960px){
      nav ul{
        display:flex; gap:14px; margin:0; padding:6px 0 2px;
        overflow-x:auto; white-space:nowrap; -webkit-overflow-scrolling:touch;
      }
      nav li{ flex:0 0 auto }
      .brand-name{font-size:18px}
      .brand-creds{font-size:12px}
      .tiles{ grid-template-columns:1fr } /* phones */
    }
    @media (min-width:640px) and (max-width:960px){ .tiles{ grid-template-columns:repeat(2,1fr) } } /* tablets */
    @media (max-width:520px){ .tagline{ white-space:normal; overflow:visible; text-overflow:clip } }
  </style>
</head>
<body class="bars-dark"><!-- Start with dark (blue) bars -->

  <!-- ===== Sticky Header ===== -->
  <header class="site-header">
    <div class="wrap topbar">
      <div class="brand">
        <a href="/" rel="home" aria-label="Home" class="brand-link--wide" id="brandLink">
          <div class="avatar is-flipped" aria-hidden="true">
            <div class="avatar-badge" title="Hover to flip">
              <div class="avatar-inner">
                <div class="avatar-face front">
                  <img id="portraitImg" src="/assets/img/portrait.jpeg" alt="Portrait of Isaac B. Michael" decoding="async" width="96" height="96" />
                </div>
                <div class="avatar-face back">
                  <!-- Auto-switching logo (teal-navy for light bars, white for dark bars) -->
                  <img id="logoImg"
                       src="/assets/brands/logo-white.svg"
                       data-logo-light="/assets/brands/logo-tealnavy.svg"
                       data-logo-dark="/assets/brands/logo-white.svg"
                       alt="Isaac B. Michael logo"
                       decoding="async" width="96" height="96" />
                </div>
              </div>
            </div>
          </div>

          <div class="brand-text" aria-label="Site owner">
            <span class="brand-name">Isaac B. Michael</span>
            <div class="brand-creds">PhD · MS · MApSt</div>
          </div>
        </a>
      </div>

      <nav aria-label="Primary">
        <ul>
          <li><a href="/about/">About</a></li>
          <li><a href="/portfolio/">Portfolio</a></li>
          <li><a href="/writing/">Writing</a></li>
          <li><a href="/speaking/">Speaking</a></li>
          <li><a href="/services/">Services</a></li>
          <li><a href="/cv/">Résumé/CV</a></li>
          <li><a href="#contact" id="contactOpen" aria-label="Open contact dialog">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- ===== HERO ===== -->
  <section class="hero-section">
    <div class="wrap hero">
      <div class="hero-grid">
        <h1 class="h1">Data-Driven Strategy &amp; Execution</h1>

        <p class="tagline">
          Research Scientist | Mathematical Statistician | Program Director
        </p>

        <div class="chips">
          <span class="chip">Public health &amp; education</span>
          <span class="chip">Reproducible pipelines</span>
          <span class="chip">Survey methodology</span>
          <span class="chip">Analytics automation</span>
          <span class="chip">Decision analytics</span>
          <span class="chip">Data modernization</span>
          <span class="chip">Audit-ready reporting</span>
          <span class="chip">Enterprise data strategy</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Divider -->
  <div class="section-divider" aria-hidden="true"></div>

  <!-- ===== Featured ===== -->
  <main class="wrap" id="main">
    <section>
      <h2>Featured</h2>
      <div class="tiles">
        <div class="tile">
          <h3>Technical Portfolio</h3>
          <p>Selected projects in survey methods, automation, reporting, and templates.</p>
          <a class="card-link" href="/portfolio/">View</a>
          <p><a href="/portfolio/">Explore the portfolio →</a></p>
        </div>
        <div class="tile">
          <h3>Writing</h3>
          <p>Notes and essays on methodology, automation, and governance.</p>
          <a class="card-link" href="/writing/">View</a>
          <p><a href="/writing/">Browse posts →</a></p>
        </div>
        <div class="tile">
          <h3>Speaking &amp; Services</h3>
          <p>Talks, workshops, and consulting offers with clear outcomes.</p>
          <a class="card-link" href="/speaking/">View</a>
          <p><a href="/speaking/">Speaking →</a> · <a href="/services/">Services →</a></p>
        </div>
      </div>
    </section>
  </main>

  <!-- ===== Footer ===== -->
  <footer>
    <div class="wrap">
      <div class="social" aria-label="External profiles">
        <a class="icon-btn" href="mailto:isaac.b.michael@gmail.com" title="Email">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 4-8 5-8-5V6l8 5 8-5v2Z"/></svg>
          <span class="sr-only">Email</span>
        </a>
        <a class="icon-btn" href="https://calendly.com/isaacbmichael" target="_blank" rel="noopener" title="Schedule with Calendly">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M7 2a1 1 0 1 1 2 0v2h6V2a1 1 0 1 1 2 0v2h1a3 3 0  0 1 3 3v12a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h1V2a1 1 0 1 1 2 0v2Zm12 6H5v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V8Z"/>
          </svg>
          <span class="sr-only">Calendly</span>
        </a>
        <a class="icon-btn" href="https://www.linkedin.com/in/isaacbmichael" target="_blank" rel="noopener" title="LinkedIn">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M4.98 3.5A2.5 2.5 0 1 1 5 8.5a2.5 2.5 0 0 1-.02-5ZM3 9h4v12H3zM9 9h3.8v1.8h.05c.53-1 1.84-2.05 3.8-2.05 4.06 0 4.81 2.67 4.81 6.15V21h-4v-5.3c0-1.26-.03-2.88-1.76-2.88-1.76 0-2.03 1.37-2.03 2.78V21H9z"/></svg>
          <span class="sr-only">LinkedIn</span>
        </a>
        <a class="icon-btn" href="https://github.com/isaacbmichael" target="_blank" rel="noopener" title="GitHub">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 .5a12 12 0 0 0-3.8 23.4c.6.1.8-.2.8-.5v-2c-3.3.7-4-1.6-4-1.6-.5-1.2-1.2-1.5-1.2-1.5-1-.7.1-.7.1-.7 1.1.1 1.7 1.1 1.7 1.1 1 .1.7 2 .7 2 1.8.3 2.7-1.2 2.7-1.2 .5-1 .8-1.4 .8-1.4-2.7-.3-5.6-1.4-5.6-6.2 0-1.4 .5-2.5 1.2-3.3-.1-.3-.5-1.6 .1-3.3 0 0 1-.3 3.4 1.3a11.6 11.6 0  0 1 6.2 0C18 5 19 5.3 19 5.3c .6 1.7 .2 3 .1 3.3 .8 .8 1.2 1.9 1.2 3.3 0 4.8-2.9 5.9-5.6 6.2 .4 .3 .8 1 .8 2.1v3c0 .3 .2 .6 .8 .5A12 12 0  0 0 12 .5Z"/></svg>
          <span class="sr-only">GitHub</span>
        </a>
      </div>
      <div>© <span id="y"></span> Isaac B. Michael · All rights reserved.</div>
    </div>
  </footer>

  <!-- ===== Contact Modal ===== -->
  <dialog id="contactDialog" aria-labelledby="contactTitle">
    <div class="modal-header">
      <h3 id="contactTitle" class="modal-title">Contact</h3>
      <button class="modal-close" id="contactClose" aria-label="Close contact dialog">✕</button>
    </div>
    <div class="modal-body">
      <div class="contact-actions">
        <a class="btn btn-primary" href="https://calendly.com/isaacbmichael" target="_blank" rel="noopener">Schedule time on Calendly</a>
        <a class="btn" href="https://www.linkedin.com/in/isaacbmichael" target="_blank" rel="noopener">LinkedIn</a>
        <a class="btn" href="https://github.com/isaacbmichael" target="_blank" rel="noopener">GitHub</a>
      </div>

      <div class="divider" aria-hidden="true"></div>

      <form id="quickForm" class="form-grid">
        <label for="qName">Name</label>
        <input id="qName" name="name" autocomplete="name" placeholder="Your name" />
        <label for="qEmail">Email</label>
        <input id="qEmail" name="email" type="email" autocomplete="email" placeholder="you@example.com" />
        <label for="qMsg">Message</label>
        <textarea id="qMsg" name="message" rows="4" placeholder="Tell me a little about your project or request…"></textarea>
        <div style="display:flex;gap:10px;align-items:center;justify-content:flex-end;margin-top:6px">
          <button type="button" class="btn btn-outline" id="contactCancel">Cancel</button>
          <button type="submit" class="btn btn-primary">Send via Email</button>
        </div>
        <small class="muted">Submitting opens your email client with your message pre-filled (no data is stored on this site).</small>
      </form>
    </div>
  </dialog>

  <script>
    // Current year
    document.getElementById('y').textContent = new Date().getFullYear();

    // Preload images (portrait + both logo variants)
    const portrait = document.getElementById('portraitImg');
    const logo     = document.getElementById('logoImg');
    function preload(src){ return new Promise(res => { const i = new Image(); i.onload = res; i.onerror = res; i.src = src; }); }
    Promise.all([
      portrait.getAttribute('src'),
      logo.dataset.logoLight,
      logo.dataset.logoDark
    ].map(preload));

    // Contact modal
    const dialog = document.getElementById('contactDialog');
    const contactOpen  = document.getElementById('contactOpen');
    const contactClose = document.getElementById('contactClose');
    const contactCancel= document.getElementById('contactCancel');
    const quickForm    = document.getElementById('quickForm');

    function openDialog(e){ if (e) e.preventDefault(); if (!dialog.open) dialog.showModal(); }
    function closeDialog(e){ if (e) e.preventDefault(); if (dialog.open) dialog.close(); }

    contactOpen?.addEventListener('click', openDialog);
    contactClose.addEventListener('click', closeDialog);
    contactCancel.addEventListener('click', closeDialog);
    dialog.addEventListener('click', (e)=>{ if (e.target === dialog) closeDialog(); });

    quickForm.addEventListener('submit', (e)=>{
      e.preventDefault();
      const name  = (document.getElementById('qName').value || '').trim();
      const email = (document.getElementById('qEmail').value || '').trim();
      const msg   = (document.getElementById('qMsg').value || '').trim();
      const subject = encodeURIComponent('Website inquiry');
      const body    = encodeURIComponent(`${msg}\n\n— ${name}${email ? ' <'+email+'>' : ''}`);
      window.location.href = `mailto:isaac.b.michael@gmail.com?subject=${subject}&body=${body}`;
      closeDialog();
    });

    // Brand link click: ensure badge flips back to logo just before navigation.
    const brandLink = document.getElementById('brandLink');
    const avatarWrap = brandLink?.querySelector('.avatar');
    brandLink?.addEventListener('click', ()=>{
      avatarWrap?.classList.add('is-flipped'); // logo visible
      brandLink.classList.add('reflip');
    });

    // Adaptive bars: dark at top, switch to light after hero exits viewport
    const hero = document.querySelector('.hero-section');
    const logoEl = document.getElementById('logoImg');

    function setBarsDark(isDark){
      document.body.classList.toggle('bars-dark', isDark);
      // Swap logo color
      logoEl.src = isDark ? logoEl.dataset.logoDark : logoEl.dataset.logoLight;
    }

    // Start dark at top:
    setBarsDark(true);

    if ('IntersectionObserver' in window){
      const io = new IntersectionObserver(entries=>{
        entries.forEach(entry=>{
          // If the hero IS intersecting (at top), keep dark; else switch to light
          setBarsDark(entry.isIntersecting);
        });
      }, {threshold: 0});
      io.observe(hero);
    } else {
      // Fallback: switch after scrolling 60px
      window.addEventListener('scroll', ()=>{
        const isDark = window.scrollY < 60;
        setBarsDark(isDark);
      });
    }
  </script>
</body>
</html>
